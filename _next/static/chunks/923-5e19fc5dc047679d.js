"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[923],{4923:function(e,t,l){l.d(t,{f:function(){return d}});var s=l(5893),r=l(7294),n=l(1664),a=l.n(n),o=l(5675),c=l.n(o),i={src:"/track-cafedra/_next/static/media/qr-code.f39514f0.gif",height:180,width:180};let d=e=>{var t,l;let{topics:n,variant:o}=e,[d,x]=(0,r.useState)(0),[u,h]=(0,r.useState)(1),[p,y]=(0,r.useState)({x:0,y:0}),[g,m]=(0,r.useState)(!1),[b,f]=(0,r.useState)({x:0,y:0}),[v,w]=(0,r.useState)(null),[j,N]=(0,r.useState)({x:0,y:0}),[L,k]=(0,r.useState)("all"),[M,E]=(0,r.useState)(!1),S=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=()=>{E(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let C=(e,t,l)=>{g||(w(e),N({x:t,y:l}))};(0,r.useEffect)(()=>{let e=e=>{v&&!g&&N({x:e.clientX,y:e.clientY})},t=e=>{"+"===e.key||"="===e.key?h(e=>Math.min(1.1*e,3)):"-"===e.key&&h(e=>Math.max(.9*e,.5))};return window.addEventListener("mousemove",e),window.addEventListener("keydown",t),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("keydown",t)}},[v,g]);let Y=(e,t,l,s,r)=>({x:e+(l-e)*r,y:t+(s-t)*r}),X=e=>{if(e.metaKey||e.ctrlKey){e.preventDefault();let t=e.deltaY>0?.9:1.1;h(e=>Math.min(Math.max(.5,e*t),3))}else y(t=>({x:t.x-e.deltaX,y:t.y-e.deltaY}))},W=e=>{1===e.touches.length&&(m(!0),f({x:e.touches[0].clientX-p.x,y:e.touches[0].clientY-p.y}))},T=e=>{g&&1===e.touches.length&&y({x:e.touches[0].clientX-b.x,y:e.touches[0].clientY-b.y})},z=()=>{m(!1)},F=e=>{m(!0),f({x:e.clientX-p.x,y:e.clientY-p.y})},A=e=>{g&&y({x:e.clientX-b.x,y:e.clientY-b.y})},B=()=>{m(!1)},_=e=>{let t=e.title.split(" "),l=[],s=0;for(;s<t.length;){let r=[t[s]],n=t[s].length;for(let a=1;a<3&&s+a<t.length;a++){let o=t[s+a];if(n+1+o.length<=40)r.push(o),n+=1+o.length;else break}l.push(r.join(" ")),s+=r.length}return l};return(0,r.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&e.preventDefault()};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e)},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"fixed z-10 flex flex-col gap-4 bg-white p-4 rounded-md ".concat(M?"w-full":""),children:[(0,s.jsxs)("div",{className:"flex gap-2 ".concat(M?"flex-wrap":""),children:[(0,s.jsx)(a(),{href:"/",className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})}),(0,s.jsx)("button",{className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",onClick(){y({x:0,y:0}),h(1)},children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),(0,s.jsx)("button",{className:"px-4 py-2 rounded ".concat(0===d?"bg-gray-800 text-white":"bg-gray-200"),onClick:()=>x(0),children:"Все курсы"}),[1,2,3,4].map(e=>(0,s.jsxs)("button",{className:"px-4 py-2 rounded ".concat(d===e?"bg-gray-800 text-white":"bg-gray-200"),onClick:()=>x(e),children:[e," курс"]},e))]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{className:"flex items-center gap-2 p-4 rounded-full hover:opacity-80 bg-gray-100 ".concat("all"===L?"bg-gray-200":""),onClick:()=>k("all"),children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("div",{className:"w-5 h-5 rounded-full border-4 border-red-500"}),(0,s.jsx)("div",{className:"w-5 h-5 rounded-full border-4 border-green-500"}),(0,s.jsx)("div",{className:"w-5 h-5 rounded-full border-4 border-blue-500"}),(0,s.jsx)("div",{className:"w-5 h-5 rounded-full border-4 border-orange-500"})]})}),(0,s.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 top-full mb-1 px-2 py-1 bg-gray-800 text-white text-sm rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Все ветки"})]}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("button",{className:"p-4 rounded-full hover:opacity-80 bg-gray-100 ".concat("red"===L?"bg-gray-200":""),onClick:()=>k("red"),children:(0,s.jsx)("div",{className:"w-5 h-5 rounded-full border-4 border-red-500"})}),(0,s.jsx)("div",{className:"absolute left-1/3 -translate-x-1/3 top-full mt-1 px-2 py-1 bg-gray-800 text-white text-sm rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Общеобразовательные дисциплины (для всех профилей 09.03.02)"})]}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("button",{className:"p-4 rounded-full hover:opacity-80 bg-gray-100 ".concat("green"===L?"bg-gray-200":""),onClick:()=>k("green"),children:(0,s.jsx)("div",{className:"w-5 h-5 rounded-full border-4 border-green-500"})}),(0,s.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 top-full mt-1 px-2 py-1 bg-gray-800 text-white text-sm rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"ИТ-дисциплины (для всех профилей 09.03.02)"})]}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("button",{className:"p-4 rounded-full hover:opacity-80 bg-gray-100 ".concat("blue"===L?"bg-gray-200":""),onClick:()=>k("blue"),children:(0,s.jsx)("div",{className:"w-5 h-5 rounded-full border-4 border-blue-500"})}),(0,s.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 top-full mt-1 px-2 py-1 bg-gray-800 text-white text-sm rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:'Дисциплины цикла "Разработка, внедрение, сопровождение ИС" (профиль РКБП)'})]}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("button",{className:"p-4 rounded-full hover:opacity-80 bg-gray-100 ".concat("orange"===L?"bg-gray-200":""),onClick:()=>k("orange"),children:(0,s.jsx)("div",{className:"w-5 h-5 rounded-full border-4 border-orange-500"})}),(0,s.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 top-full mt-1 px-2 py-1 bg-gray-800 text-white text-sm rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:'Дисциплины цикла "Информационные системы и технологии" (профиль РКБП)'})]})]})]}),(0,s.jsx)("div",{className:"relative w-full h-full overflow-visible",onWheel:X,onTouchStart:W,onTouchMove:T,onTouchEnd:z,style:{userSelect:"none"},children:(0,s.jsxs)("svg",{ref:S,width:"100%",height:"100%",viewBox:M?"0 0 800 1120":"0 0 1200 1120",style:{transform:"translate(".concat(p.x,"px, ").concat(p.y,"px) scale(").concat(u,")"),cursor:g?"grabbing":"grab",overflow:"visible"},onMouseDown:F,onMouseMove:A,onMouseUp:B,onMouseLeave(){B(),w(null)},children:[(0,s.jsx)("path",{d:M?"M 100 40 L 100 620 L 50 724 L 50 900":"M 170 100 L 170 620 L 66 724 L 66 900",stroke:"#EF4444",strokeWidth:"8",fill:"none",id:"redPath",style:{opacity:"all"===L||"red"===L?1:.2}}),null===(t=n.red)||void 0===t?void 0:t.map((e,t)=>{let l={x:0,y:0};if(t<10)l={x:M?100:170,y:100+50*t};else{let r=(t-10)/2;l=r<=1?Y(M?100:170,620,M?50:66,724,r):{x:M?50:66,y:782+(t-13)*50}}let n=0===d||e.course.includes(d.toString()),a=_(e);return(0,s.jsxs)("g",{onMouseEnter(t){C(e,t.clientX,t.clientY)},onTouchStart(t){C(e,t.touches[0].clientX,t.touches[0].clientY)},onMouseLeave:()=>w(null),onTouchEnd:()=>w(null),style:{cursor:g?"grabbing":"pointer",opacity:n&&("all"===L||"red"===L)?1:.2},children:[(0,s.jsx)("circle",{cx:l.x,cy:l.y,r:n?14:12,fill:"white",stroke:"#EF4444",strokeWidth:n?8:6}),a.map((e,t)=>(0,s.jsx)("text",{x:l.x-30,y:l.y+5+15*t,textAnchor:"end",className:"".concat(n?"font-bold text-base":"text-sm"," ").concat(M?"text-xs":""),children:e},t))]},t)}),(0,s.jsx)("path",{d:M?"M 170 40 L 170 620 L 120 724 L 120 900":"M 300 40 L 300 620 L 196 724 L 196 900",stroke:"#22C55E",strokeWidth:"8",fill:"none",style:{opacity:"all"===L||"green"===L?1:.2}}),null===(l=n.green)||void 0===l?void 0:l.map((e,t)=>{let l={x:0,y:0};if(t<11)l={x:M?170:300,y:52+50*t};else{let r=(t-11)/2;l=r<=1?Y(M?170:300,620,M?120:196,724,r):{x:M?120:196,y:724+(t-13)*50}}let n=0===d||e.course.includes(d.toString()),a=_(e);return(0,s.jsxs)("g",{onMouseEnter(t){C(e,t.clientX,t.clientY)},onTouchStart(t){C(e,t.touches[0].clientX,t.touches[0].clientY)},onMouseLeave:()=>w(null),onTouchEnd:()=>w(null),style:{cursor:g?"grabbing":"pointer",opacity:n&&("all"===L||"green"===L)?1:.2},children:[(0,s.jsx)("circle",{cx:l.x,cy:l.y,r:n?14:12,fill:"white",stroke:"#22C55E",strokeWidth:n?8:6}),a.map((e,t)=>(0,s.jsx)("text",{x:l.x+30,y:l.y+5+15*t,textAnchor:"start",className:"".concat(n?"font-bold text-base":"text-sm"," ").concat(M?"text-xs":""),children:e},t))]},t)}),(0,s.jsx)("path",{d:M?"M 630 40 L 630 720 L 700 824 L 700 900":"M 1020 40 L 1020 720 L 1124 824 L 1124 900",stroke:"#3B82F6",strokeWidth:"8",fill:"none",style:{opacity:"all"===L||"blue"===L?1:.2}}),n.blue.map((e,t)=>{let l={x:0,y:0};l=t<11?{x:M?630:1020,y:52+60*t}:t<13?Y(M?630:1020,720,M?700:1124,824,(t-11)/2):{x:M?700:1124,y:824+50*(t-13)};let r=0===d||e.course.includes(d.toString()),n=_(e);return(0,s.jsxs)("g",{onMouseEnter(t){C(e,t.clientX,t.clientY)},onTouchStart(t){C(e,t.touches[0].clientX,t.touches[0].clientY)},onMouseLeave:()=>w(null),onTouchEnd:()=>w(null),style:{cursor:g?"grabbing":"pointer",opacity:r&&("all"===L||"blue"===L)?1:.2},children:[(0,s.jsx)("circle",{cx:l.x,cy:l.y,r:r?14:12,fill:"white",stroke:"#3B82F6",strokeWidth:r?8:6}),n.map((e,t)=>(0,s.jsx)("text",{x:l.x-30,y:l.y+5+15*t,textAnchor:"end",className:"".concat(r?"font-bold text-base":"text-sm"," text-end ").concat(M?"text-xs":""),children:e},t))]},t)}),(0,s.jsx)("path",{d:M?"M 700 40 L 700 620 L 750 724 L 750 900":"M 1150 100 L 1150 620 L 1254 724 L 1254 900",stroke:"#F97316",strokeWidth:"8",fill:"none",style:{opacity:"all"===L||"orange"===L?1:.2}}),n.orange.map((e,t)=>{let l={x:0,y:0};if(t<11)l={x:M?700:1150,y:102+50*t};else{let r=(t-10)/2;l=r<=1?Y(M?700:1150,620,M?750:1254,724,r):{x:M?750:1254,y:724+(t-13)*50}}let n=0===d||e.course.includes(d.toString()),a=_(e);return(0,s.jsxs)("g",{onMouseEnter(t){C(e,t.clientX,t.clientY)},onTouchStart(t){C(e,t.touches[0].clientX,t.touches[0].clientY)},onMouseLeave:()=>w(null),onTouchEnd:()=>w(null),style:{cursor:g?"grabbing":"pointer",opacity:n&&("all"===L||"orange"===L)?1:.2},children:[(0,s.jsx)("circle",{cx:l.x,cy:l.y,r:n?14:12,fill:"white",stroke:"#F97316",strokeWidth:n?8:6}),a.map((e,t)=>(0,s.jsx)("text",{x:l.x+30,y:l.y+5+15*t,textAnchor:"start",className:"".concat(n?"font-bold text-base":"text-sm"," text-end ").concat(M?"text-xs":""),children:e},t))]},t)}),(0,s.jsx)("rect",{x:M?"30":"60",y:"900",width:M?"740":"1200",height:"60",rx:"10",ry:"10",fill:"none",stroke:"#d4d4d4",strokeWidth:"6"}),(0,s.jsxs)("text",{x:M?"400":"675",y:"937",textAnchor:"middle",className:"text-xl font-bold ".concat(M?"text-base":""),fill:"#000000",children:["Образовательный трек ","2"==o?"ТВрП":"РКБП"]})]})}),(0,s.jsx)(c(),{src:i,width:M?100:200,height:M?100:200,className:"absolute bottom-0 right-0 z-10",alt:"QR Code"}),v&&(0,s.jsxs)("div",{className:"fixed bg-white p-4 rounded-lg shadow-lg transition-transform z-20",style:{left:M?"50%":j.x+20,top:M?"50%":j.y,maxWidth:M?"90%":"".concat(300*u/1.3,"px"),minWidth:M?"auto":"300px",transform:M?"translate(-50%, -50%)":"scale(".concat(u>1?u/1.3:u/1.1,")"),transformOrigin:M?"center":"top left"},children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-2",children:v.title}),(0,s.jsx)("p",{className:"text-sm mb-2",children:v.description}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 text-sm text-gray-600",children:[v.exam&&(0,s.jsxs)("span",{children:["Экзамен: ",v.exam]}),v.test&&(0,s.jsxs)("span",{children:["Тест: ",v.test]}),v.creditUnit&&(0,s.jsxs)("span",{children:["Зачетные единицы: ",v.creditUnit]}),v.lecture&&(0,s.jsxs)("span",{children:["Лекции: ",v.lecture]}),v.practice&&(0,s.jsxs)("span",{children:["Практики: ",v.practice]})]})]})]})}}}]);